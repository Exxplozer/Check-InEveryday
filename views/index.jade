extends layout
block content
    script(type='text/javascript').
        postCheckin = function () {
            var oauth_token = document.getElementById("token").value;
            var ll = document.getElementById("ll").value;
            var venueId = document.getElementById("venueId").value;
            var day = document.getElementById("days").value;
            var hour = document.getElementById("hours").value;
            var name = document.getElementById("venueName").value;
            $.ajax({
                url: "http://checkineveryday.herokuapp.com/checkin/add",
                type: "POST",
                data: {ll: ll, venueId: venueId, oauth_token: oauth_token, days: day, hours: hour, venueName : name},
                dataType: "json",
                success: function (result) {
                },
                error: function (xhr, ajaxOptions, thrownError) {
                }
            });
        };
    script(type='text/javascript').
        postRemoveHistory = function () {
            var oauth_token = document.getElementById("token").value;
            $.ajax({
                url: "http://checkineveryday.herokuapp.com/checkin/add",
                type: "POST",
                data: {token: oauth_token},
                dataType: "json",
                success: function (result) {
                },
                error: function (xhr, ajaxOptions, thrownError) {
                }
            });
        };

    h1 Check-in Everyday Test Server
        - var t = {value : token}
        #t
        if  t.value
            br
            div(class="input-group")
                div(class="input-group-addon") Token:
                input(text value= token id="token" disabled class="form-control")
            br
            <!-----------------------PUBLIC API----------------------------------------->
            h1 Public API
            p These API method the same for general and mobile API's
            h3 Checkin in Foursquare
            p This method the adds checkin in Foursquare by venue Id
            div(class="input-group")
                div(class="input-group-addon") Venue Id:
                input(text value= venueId id="venueId" class="form-control" onclick="hide();" )
            br
            div(class="input-group")
                div(class="input-group-addon") Venue Name:
                input(text value= venueName id="venueName" class="form-control" onclick="hide();" )
            br
            div(class="input-group")
                div(class="input-group-addon") Coordinates:
                input(text value= ll id="ll" class="form-control ll" onclick="visible();")
            br
            div(class="row")
                div(class="col-xs-6")
                    div(class="input-group")
                        div(class="input-group-addon") Days:
                        select(class="form-control" id="days" onclick="hide();" )
                            option 1
                            option 2
                            option 3
                            option 4
                            option 5
                            option 6
                            option 7
                div(class="col-xs-6")
                    div(class="input-group")
                        div(class="input-group-addon") Hours:
                        select(class="form-control" id="hours" onclick="hide();")
                            option 3
                            option 4
                            option 5
                            option 6
                            option 7
                            option 8
                            option 9
                            option 10
                            option 11
                            option 12
                            option 13
                            option 14
                            option 15
                            option 16
                            option 17
                            option 18
                            option 19
                            option 20
                            option 21
                            option 22
                            option 23
                            option 24
                br
                br
            button(type="submin" class="btn btn-success" onclick="postCheckin()") Post
            <!-----------------------GENERAL API------------------------------->
            h1 General API
            p These API methods to get a lot of data and not recommended for use in your mobile apps
            h3 Get checkins
            div(class="form-group")
                p This method returns checkins of user by token
                    div(class="input-group")
                        button(type="submin" class="btn btn-success" onclick="location.href='/api/checkins/'+document.getElementById('token').value") Get
                h3 Get venue by string
                p This method returns venues near these coordinates by keyword
                div(class="input-group")
                    div(class="input-group-addon") Coordinates:
                    input(text value= ll id="ll" class="form-control ll" onclick="visible();")
                br
                div(class="input-group")
                    div(class="input-group-addon") Keyword:
                    input(text value= query id="query1" class="form-control" onclick="hide();" )
                br
                button(type="submin" class="btn btn-success" onclick="location.href='/api/venues/'+document.getElementById('ll').value+'/'+document.getElementById('token').value+'/'+document.getElementById('query1').value") Get
                h3 Get venue
                p This method returns venues near coordinates
                div(class="input-group")
                    div(class="input-group-addon") Coordinates:
                    input(text value= ll id="ll" class="form-control ll" onclick="visible();")
                br
                button(type="submin" class="btn btn-success" onclick="location.href='/api/venues/'+document.getElementById('ll').value+'/'+document.getElementById('token').value") Get
                h1 Mobile API
                p These methods returns not many data and recommended for using in mobile apps
                <!-----------------------MOBILE API----------------------------------------->
                h3 Get checkins
                div(class="form-group")
                    p This method returns checkins of user by token
                        div(class="input-group")
                            button(type="submin" class="btn btn-success" onclick="location.href='/mobile-api/checkins/'+document.getElementById('token').value") Get
                    h3 Get venue by string
                    p This method returns venues near the coordinates by keyword
                    div(class="input-group")
                        div(class="input-group-addon") Coordinates:
                        input(text value= ll id="ll" class="form-control ll" onclick="visible();")
                    br
                    div(class="input-group")
                        div(class="input-group-addon") Keyword:
                        input(text value= query id="query1" class="form-control" onclick="hide();" )
                    br
                    button(type="submin" class="btn btn-success" onclick="location.href='/mobile-api/venues/'+document.getElementById('ll').value+'/'+document.getElementById('token').value+'/'+document.getElementById('query1').value") Get
                    h3 Get venue
                    p This method returns venues near coordinates
                    div(class="input-group")
                        div(class="input-group-addon") Coordinates:
                        input(text value= ll id="ll" class="form-control ll" onclick="visible();")
                    br
                    button(type="submin" class="btn btn-success" onclick="location.href='/mobile-api/venues/'+document.getElementById('ll').value+'/'+document.getElementById('token').value") Get
                    h3 Get Schedule
                    p This method returns the checkins which will be added in Foursquare or which done
                    br
                    button(type="submin" class="btn btn-success" onclick="location.href='/mobile-api/schedule/'+document.getElementById('token').value") Get

        else
            h4 Please, generate a user token
            a(href="/login")
                img(src="https://ss1.4sqi.net/img/connectTo-990dd166e85a12426a6f57634875256c.png")
    script(type='text/javascript').
        $(document).ready(function () {
            $("#map").hide("slow");
            $("#APIBody").click(function (event) {
                if(event.target.id === 'll'){
                    $("#map").show(300);
                } else {
                $("#map").hide(300);
                }
            });
        });